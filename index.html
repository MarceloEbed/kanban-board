<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <title>Hello, world!</title>

    <style>
        html {
            height: 100%;
        }
        body, .container {
            height: 100%;
            background-color: rgb(240, 240, 240);
        }

        .rowColumn {
            height: 60%;
        }

        .banner{
            height: 20%;
            border-radius: 10px;
        }

        .bannerColum{
            height: 50px;
            border-radius: 5px;
        }

        .listItem{
            border: 1px solid #ccc;
            margin: 1px;
            border-radius: 5px;
        }

        .listItem:hover{
            background-color: rgb(213, 213, 213);
        }

        .cardContent{

        }

        span{
            font-size: 14px;
        }

        p{
            font-size: 12px;
        }

        .perfil{
            border-radius: 50% 50%;
            background-color: rgb(132, 159, 240);
        }

        .CorIcone{
            color: white;
        }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <!-- Navbar content -->
        <div class="col">
            <ul class="navbar-nav justify-content-start">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
            </ul>
        </div>
        <div class="col">
            <ul class="navbar-nav justify-content-end">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Logout</a>
                </li>
            </ul>
        </div>
    </nav>  
      
    <div class="container">
        <div id="modal"></div>
        <div class="row bg-info mt-3 mb-3 p-3 banner">
            <div class="col-3">
                <h2>KanBan Board</h2>
            </div>
            <div class="col-9">
                <h6 class="text-end" style="height: 15%;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed massa leo, ultrices interdum viverra sed, bibendum vel arcu. Sed sit amet nisl scelerisque, rutrum ante in, interdum libero. Aliquam consectetur velit sed nisl mollis cursus. Maecenas consectetur, mauris vel aliquam rutrum, risus neque feugiat ipsum, sit amet ullamcorper.</h6>
            </div>
        </div>
        <div class="row">
            <div class="col bannerColum bg-secondary text-light mb-1 d-flex justify-content-center align-items-center" style="margin-right: 10px;">
                <div class="col-10 d-flex justify-content-center align-items-center"><p>
                    <strong>backlog</strong>
                </p></div>
                <div class="col-2">
                   <a href="" data-bs-toggle="modal" data-bs-target="#exampleModal"> <i class="material-icons CorIcone">add_to_photos</i></a>
                </div>        
            
            </div>
            <div class="col bannerColum bg-secondary text-light mb-1 d-flex justify-content-center align-items-center" style="margin-right: 10px;">to do</div>
            <div class="col bannerColum bg-secondary text-light mb-1 d-flex justify-content-center align-items-center" style="margin-right: 10px;">doing</div>
            <div class="col bannerColum bg-secondary text-light mb-1 d-flex justify-content-center align-items-center" >done</div>
        </div>
        <div class="row rowColumn" >
            <div class="col form-control" style="margin-right: 10px;" id="backlog">
            
                <div class="row listItem mb-1" id="task1" name='task1_backlog'>
                    <div class="col cardContent">
                        <span class="badge bg-secondary text-light">Dormir </span> 
                        <span class="badge bg-warning text-dark">&nbsp;</span> 
                        <span onclick="moveBack('task1')"><i class="material-icons " style="cursor: pointer;">arrow_back</i></span>
                        <span id="task1_arrow" onclick="moveForward('task1')"><i class="material-icons " style="cursor: pointer;">arrow_forward</i></span>
                        <p>Chegar no GIG e dormir.</p>
                    </div>
                    <div class="col-3 perfil d-flex justify-content-center align-items-center">
                        <h3>RC</h3>
                    </div>
                </div>

                <div class="row listItem mb-1" id="task2" name='task2_backlog'>
                    <div class="col cardContent">
                        <span class="badge bg-secondary text-light">Dormir </span> 
                        <span class="badge bg-success text-dark">&nbsp;</span>
                        <span onclick="moveBack('task2')"><i class="material-icons " style="cursor: pointer;">arrow_back</i></span> 
                        <span id="task2_arrow" onclick="moveForward('task2')"><i class="material-icons " style="cursor: pointer;">arrow_forward</i></span>
                        <p>Chegar no GIG e dormir.</p>
                    </div>
                    <div class="col-3 perfil d-flex justify-content-center align-items-center">
                        <h3>RC</h3>
                    </div>
                </div>
                
                <div class="row listItem mb-1" id="task3" name='task3_backlog'>
                    <div class="col cardContent">
                        <span class="badge bg-secondary text-light">Dormir </span>
                         <span class="badge bg-danger text-dark">&nbsp;</span> 
                         <span onclick="moveBack('task3')"><i class="material-icons " style="cursor: pointer;">arrow_back</i></span>
                         <span id="task3_arrow" onclick="moveForward('task3')"><i class="material-icons " style="cursor: pointer;">arrow_forward</i></span>
                        <p>Chegar no GIG e dormir.</p>
                    </div>
                    <div class="col-3 perfil d-flex justify-content-center align-items-center">
                        <h3>RC</h3>
                    </div>
                </div>
                
            
            
            </div>
            <div class="col form-control" style="margin-right: 10px;" id="toDo"> </div>
            <div class="col form-control" style="margin-right: 10px;" id="doing"> </div>
            <div class="col form-control" id="done"> </div>
        </div>
    </div>
    
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">inserir nova Task</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="exampleFormControlInput1" class="form-label">Email</label>
                    <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
                    <label for="Titulo" class="form-label">Título</label>
                    <input type="text" class="form-control" id="titulo" placeholder="Nome da Task">
                  </div>
                  <div class="mb-3">
                    <label for="exampleFormControlTextarea1" class="form-label">Descrição da task</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                  </div>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Incluir</button>
            </div>
        </div>
        </div>
    </div>

    <script>

        function moveForward(id){
            var task = document.getElementById(id)
            var arrow = document.getElementById(id)
            var item = task
            task.remove()
            
            var colunas = ['backlog', 'toDo', 'doing', 'done'];

            var ColunaAtual = task.getAttribute('name')
            ColunaAtual = ColunaAtual.split("_").pop()
            
            for(var i = 0; i < colunas.length; i++){
                if (ColunaAtual == colunas[i]) {
                    var proxima = i+1
                    console.log(ColunaAtual + ' - ' +colunas[proxima]);
                    ColunaAtual  = colunas[proxima]
                    
                    var colunaDestino = colunas[proxima]
                    var destino = document.getElementById(colunaDestino)
                    
                    var novoName = id + '_' + colunaDestino
                    task.setAttribute('name', novoName)
                    
                    destino.appendChild(item);
                    return;
                }
            }
        }


        function moveBack(id){
            var task = document.getElementById(id)
            var item = task
            task.remove()
            
            var colunas = ['backlog', 'toDo', 'doing', 'done'];

            var ColunaAtual = task.getAttribute('name')
            ColunaAtual = ColunaAtual.split("_").pop()
            
            for(var i = 0; i < colunas.length; i++){
                if (ColunaAtual == colunas[i] && i>0) {
                     var proxima = i-1
                     console.log(ColunaAtual + ' - ' +colunas[proxima]);
                    ColunaAtual  = colunas[proxima]
                    
                    var colunaDestino = colunas[proxima]
                    var destino = document.getElementById(colunaDestino)
                   
                    var novoName = id + '_' + colunaDestino
                    task.setAttribute('name', novoName)
                    
                    destino.appendChild(item);
                    return;
                }
            }
        }

    </script>
  </body>
</html>

